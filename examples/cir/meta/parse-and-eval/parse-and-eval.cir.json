{
	"$schema": "https://raw.githubusercontent.com/Mearman/SPIRAL/main/cir.schema.json",
	"version": "1.0.0",
	"description": "Full self-hosting pipeline: parses a SPIRAL AIR program from a JSON string using json:parse, then evaluates it with meta:eval. Demonstrates string → parse → evaluate → result.",
	"airDefs": [],
	"nodes": [
		{
			"id": "programJson", "expr": {
				"kind": "lit", "type": {"kind": "string"},
				"value": "{\"nodes\":[{\"id\":\"a\",\"expr\":{\"kind\":\"lit\",\"value\":10}},{\"id\":\"b\",\"expr\":{\"kind\":\"lit\",\"value\":20}},{\"id\":\"sum\",\"expr\":{\"kind\":\"call\",\"ns\":\"core\",\"name\":\"add\",\"args\":[\"a\",\"b\"]}}],\"result\":\"sum\"}"
			}
		},
		{"id": "parsed", "expr": {"kind": "call", "ns": "json", "name": "parse", "args": ["programJson"]}},
		{"id": "result", "expr": {"kind": "call", "ns": "meta", "name": "eval", "args": ["parsed"]}}
	],
	"result": "result",
	"expected_result": 30
}

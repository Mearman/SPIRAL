{
	"$schema": "https://raw.githubusercontent.com/Mearman/SPIRAL/main/lir.schema.json",
	"version": "1.0.0",
	"description": "LIR representation of stats calculator: single block computing sum and average from literal values. Demonstrates effect and arithmetic instructions in CFG form.",
	"nodes": [
		{
			"id": "main",
			"blocks": [
				{
					"id": "entry",
					"instructions": [
						{
							"kind": "assign",
							"target": "n1",
							"value": {
								"kind": "lit",
								"type": {
									"kind": "int"
								},
								"value": 10
							}
						},
						{
							"kind": "assign",
							"target": "n2",
							"value": {
								"kind": "lit",
								"type": {
									"kind": "int"
								},
								"value": 20
							}
						},
						{
							"kind": "assign",
							"target": "n3",
							"value": {
								"kind": "lit",
								"type": {
									"kind": "int"
								},
								"value": 30
							}
						},
						{
							"kind": "op",
							"ns": "core",
							"name": "add",
							"target": "sum12",
							"args": [
								"n1",
								"n2"
							]
						},
						{
							"kind": "op",
							"ns": "core",
							"name": "add",
							"target": "sum",
							"args": [
								"sum12",
								"n3"
							]
						},
						{
							"kind": "assign",
							"target": "three",
							"value": {
								"kind": "lit",
								"type": {
									"kind": "int"
								},
								"value": 3
							}
						},
						{
							"kind": "op",
							"ns": "core",
							"name": "div",
							"target": "average",
							"args": [
								"sum",
								"three"
							]
						},
						{
							"kind": "assign",
							"target": "sumLabel",
							"value": {
								"kind": "lit",
								"type": {
									"kind": "string"
								},
								"value": "Sum: "
							}
						},
						{
							"kind": "effect",
							"op": "print",
							"target": "print1",
							"args": [
								"sumLabel"
							]
						},
						{
							"kind": "effect",
							"op": "print",
							"target": "print2",
							"args": [
								"sum"
							]
						},
						{
							"kind": "assign",
							"target": "newline",
							"value": {
								"kind": "lit",
								"type": {
									"kind": "string"
								},
								"value": "\n"
							}
						},
						{
							"kind": "effect",
							"op": "print",
							"target": "print3",
							"args": [
								"newline"
							]
						},
						{
							"kind": "assign",
							"target": "avgLabel",
							"value": {
								"kind": "lit",
								"type": {
									"kind": "string"
								},
								"value": "Average: "
							}
						},
						{
							"kind": "effect",
							"op": "print",
							"target": "print4",
							"args": [
								"avgLabel"
							]
						},
						{
							"kind": "effect",
							"op": "print",
							"target": "print5",
							"args": [
								"average"
							]
						}
					],
					"terminator": {
						"kind": "return"
					}
				}
			],
			"entry": "entry"
		}
	],
	"result": "main",
	"expected_result": null,
	"note": "Stats calculator CFG: single block computes sum (60) and average (20) from literal inputs, then prints both results."
}

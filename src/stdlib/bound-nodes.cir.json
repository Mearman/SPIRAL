{
	"$schema": "https://raw.githubusercontent.com/Mearman/SPIRAL/main/cir.schema.json",
	"version": "1.0.0",
	"description": "Bound nodes analysis â€” refactors src/typechecker/bound-nodes.ts to CIR. Collects lambda parameters, let bindings, and identifies nodes only reachable through lambda bodies using fix combinators and graph traversal.",
	"airDefs": [],
	"nodes": [
		{"id": "zero", "expr": {"kind": "lit", "type": {"kind": "int"}, "value": 0}},
		{"id": "one", "expr": {"kind": "lit", "type": {"kind": "int"}, "value": 1}},
		{"id": "emptyList", "expr": {"kind": "listOf", "elements": []}},
		{"id": "emptySet", "expr": {"kind": "lit", "type": {"kind": "set", "of": {"kind": "string"}}, "value": []}},
		{"id": "emptyMap", "expr": {"kind": "record", "fields": []}},

		{"id": "idKey", "expr": {"kind": "lit", "type": {"kind": "string"}, "value": "id"}},
		{"id": "exprKey", "expr": {"kind": "lit", "type": {"kind": "string"}, "value": "expr"}},
		{"id": "kindKey", "expr": {"kind": "lit", "type": {"kind": "string"}, "value": "kind"}},
		{"id": "paramsKey", "expr": {"kind": "lit", "type": {"kind": "string"}, "value": "params"}},
		{"id": "nameKey", "expr": {"kind": "lit", "type": {"kind": "string"}, "value": "name"}},
		{"id": "bodyKey", "expr": {"kind": "lit", "type": {"kind": "string"}, "value": "body"}},
		{"id": "valueKey", "expr": {"kind": "lit", "type": {"kind": "string"}, "value": "value"}},

		{"id": "lambdaStr", "expr": {"kind": "lit", "type": {"kind": "string"}, "value": "lambda"}},
		{"id": "letStr", "expr": {"kind": "lit", "type": {"kind": "string"}, "value": "let"}},
		{"id": "refStr", "expr": {"kind": "lit", "type": {"kind": "string"}, "value": "ref"}},
		{"id": "callExprStr", "expr": {"kind": "lit", "type": {"kind": "string"}, "value": "callExpr"}},
		{"id": "ifStr", "expr": {"kind": "lit", "type": {"kind": "string"}, "value": "if"}},

		{"id": "clpIdxVar", "expr": {"kind": "var", "name": "clpIdx"}},
		{"id": "clpNodesVar", "expr": {"kind": "var", "name": "clpNodes"}},
		{"id": "clpAccVar", "expr": {"kind": "var", "name": "clpAcc"}},
		{"id": "clpRecVar", "expr": {"kind": "var", "name": "clpRec"}},
		{"id": "clpLen", "expr": {"kind": "call", "ns": "list", "name": "length", "args": ["clpNodesVar"]}},
		{"id": "clpDone", "expr": {"kind": "call", "ns": "core", "name": "gte", "args": ["clpIdxVar", "clpLen"]}},
		{"id": "clpNode", "expr": {"kind": "call", "ns": "list", "name": "nth", "args": ["clpNodesVar", "clpIdxVar"]}},
		{"id": "clpExpr", "expr": {"kind": "call", "ns": "map", "name": "get", "args": ["clpNode", "exprKey"]}},
		{"id": "clpKind", "expr": {"kind": "call", "ns": "map", "name": "get", "args": ["clpExpr", "kindKey"]}},
		{"id": "clpIsLambda", "expr": {"kind": "call", "ns": "core", "name": "eq", "args": ["clpKind", "lambdaStr"]}},
		{"id": "clpParams", "expr": {"kind": "call", "ns": "map", "name": "get", "args": ["clpExpr", "paramsKey"]}},
		{"id": "clpAddParams", "expr": {"kind": "call", "ns": "bound", "name": "add-params-to-set", "args": ["clpParams", "clpAccVar"]}},
		{"id": "clpIsLet", "expr": {"kind": "call", "ns": "core", "name": "eq", "args": ["clpKind", "letStr"]}},
		{"id": "clpLetName", "expr": {"kind": "call", "ns": "map", "name": "get", "args": ["clpExpr", "nameKey"]}},
		{"id": "clpAddName", "expr": {"kind": "call", "ns": "set", "name": "add", "args": ["clpAccVar", "clpLetName"]}},
		{"id": "clpAddIfLet", "expr": {"kind": "if", "cond": "clpIsLet", "then": "clpAddName", "else": "clpAccVar"}},
		{"id": "clpNewAcc", "expr": {"kind": "if", "cond": "clpIsLambda", "then": "clpAddParams", "else": "clpAddIfLet"}},
		{"id": "clpNextIdx", "expr": {"kind": "call", "ns": "core", "name": "add", "args": ["clpIdxVar", "one"]}},
		{"id": "clpRecurse", "expr": {"kind": "callExpr", "args": ["clpNodesVar", "clpNextIdx", "clpNewAcc"], "fn": "clpRecVar"}},
		{"id": "clpBody", "expr": {"kind": "if", "cond": "clpDone", "then": "clpAccVar", "else": "clpRecurse"}},
		{"id": "clpInner", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}, "params": ["clpIdx", "clpNodes", "clpAcc"], "body": "clpBody"}},
		{"id": "clpOuter", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}], "returns": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}}, "params": ["clpRec"], "body": "clpInner"}},
		{"id": "collectLambdaParamsFixFn", "expr": {"kind": "fix", "type": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}, "fn": "clpOuter"}},
		{"id": "bound:collect-lambda-params", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "int"}], "returns": {"kind": "int"}}, "params": ["nodes"], "body": {"kind": "callExpr", "args": [{"kind": "var", "name": "nodes"}, "zero", "emptySet"], "fn": "collectLambdaParamsFixFn"}}},

		{"id": "aptsIdxVar", "expr": {"kind": "var", "name": "aptsIdx"}},
		{"id": "aptsParamsVar", "expr": {"kind": "var", "name": "aptsParams"}},
		{"id": "aptsAccVar", "expr": {"kind": "var", "name": "aptsAcc"}},
		{"id": "aptsRecVar", "expr": {"kind": "var", "name": "aptsRec"}},
		{"id": "aptsLen", "expr": {"kind": "call", "ns": "list", "name": "length", "args": ["aptsParamsVar"]}},
		{"id": "aptsDone", "expr": {"kind": "call", "ns": "core", "name": "gte", "args": ["aptsIdxVar", "aptsLen"]}},
		{"id": "aptsParam", "expr": {"kind": "call", "ns": "list", "name": "nth", "args": ["aptsParamsVar", "aptsIdxVar"]}},
		{"id": "aptsType", "expr": {"kind": "call", "ns": "core", "name": "typeof", "args": ["aptsParam"]}},
		{"id": "aptsIsString", "expr": {"kind": "call", "ns": "core", "name": "eq", "args": ["aptsType", {"kind": "lit", "type": {"kind": "string"}, "value": "string"}]}},
		{"id": "aptsAdd", "expr": {"kind": "call", "ns": "set", "name": "add", "args": ["aptsAccVar", "aptsParam"]}},
		{"id": "aptsNewAcc", "expr": {"kind": "if", "cond": "aptsIsString", "then": "aptsAdd", "else": "aptsAccVar"}},
		{"id": "aptsNextIdx", "expr": {"kind": "call", "ns": "core", "name": "add", "args": ["aptsIdxVar", "one"]}},
		{"id": "aptsRecurse", "expr": {"kind": "callExpr", "args": ["aptsParamsVar", "aptsNextIdx", "aptsNewAcc"], "fn": "aptsRecVar"}},
		{"id": "aptsBody", "expr": {"kind": "if", "cond": "aptsDone", "then": "aptsAccVar", "else": "aptsRecurse"}},
		{"id": "aptsInner", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}, "params": ["aptsIdx", "aptsParams", "aptsAcc"], "body": "aptsBody"}},
		{"id": "aptsOuter", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}], "returns": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}}, "params": ["aptsRec"], "body": "aptsInner"}},
		{"id": "addParamsToSetFixFn", "expr": {"kind": "fix", "type": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}, "fn": "aptsOuter"}},
		{"id": "bound:add-params-to-set", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}, "params": ["params", "acc"], "body": {"kind": "callExpr", "args": [{"kind": "var", "name": "params"}, "zero", {"kind": "var", "name": "acc"}], "fn": "addParamsToSetFixFn"}}},

		{"id": "cdNodeIdVar", "expr": {"kind": "var", "name": "cdNodeId"}},
		{"id": "cdNodeMapVar", "expr": {"kind": "var", "name": "cdNodeMap"}},
		{"id": "cdVisitedVar", "expr": {"kind": "var", "name": "cdVisited"}},
		{"id": "cdBoundNodesVar", "expr": {"kind": "var", "name": "cdBoundNodes"}},
		{"id": "cdRecVar", "expr": {"kind": "var", "name": "cdRec"}},
		{"id": "cdWasVisited", "expr": {"kind": "call", "ns": "set", "name": "contains", "args": ["cdVisitedVar", "cdNodeIdVar"]}},
		{"id": "cdAddToBound", "expr": {"kind": "call", "ns": "set", "name": "add", "args": ["cdBoundNodesVar", "cdNodeIdVar"]}},
		{"id": "cdAddToVisited", "expr": {"kind": "call", "ns": "set", "name": "add", "args": ["cdVisitedVar", "cdNodeIdVar"]}},
		{"id": "cdHasNode", "expr": {"kind": "call", "ns": "map", "name": "has", "args": ["cdNodeMapVar", "cdNodeIdVar"]}},
		{"id": "cdNode", "expr": {"kind": "call", "ns": "map", "name": "get", "args": ["cdNodeMapVar", "cdNodeIdVar"]}},
		{"id": "cdExpr", "expr": {"kind": "call", "ns": "map", "name": "get", "args": ["cdNode", "exprKey"]}},
		{"id": "cdRefs", "expr": {"kind": "call", "ns": "graph", "name": "extract-refs", "args": ["cdExpr"]}},
		{"id": "cdRecurseOnRefs", "expr": {"kind": "call", "ns": "bound", "name": "collect-deps-on-list", "args": ["cdRefs", "cdNodeMapVar", "cdAddToVisited", "cdAddToBound"]}},
		{"id": "cdSkip", "expr": {"kind": "record", "fields": [{"key": "boundNodes", "value": "cdBoundNodesVar"}, {"key": "visited", "value": "cdVisitedVar"}]}},
		{"id": "cdHasNodeCheck", "expr": {"kind": "if", "cond": "cdHasNode", "then": "cdRecurseOnRefs", "else": "cdSkip"}},
		{"id": "cdBody", "expr": {"kind": "if", "cond": "cdWasVisited", "then": "cdSkip", "else": "cdHasNodeCheck"}},
		{"id": "bound:collect-deps", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}, "params": ["nodeId", "nodeMap", "visited", "boundNodes"], "body": "cdBody"}},

		{"id": "cdolIdxVar", "expr": {"kind": "var", "name": "cdolIdx"}},
		{"id": "cdolRefsVar", "expr": {"kind": "var", "name": "cdolRefs"}},
		{"id": "cdolNodeMapVar", "expr": {"kind": "var", "name": "cdolNodeMap"}},
		{"id": "cdolVisitedVar", "expr": {"kind": "var", "name": "cdolVisited"}},
		{"id": "cdolBoundNodesVar", "expr": {"kind": "var", "name": "cdolBoundNodes"}},
		{"id": "cdolRecVar", "expr": {"kind": "var", "name": "cdolRec"}},
		{"id": "cdolLen", "expr": {"kind": "call", "ns": "list", "name": "length", "args": ["cdolRefsVar"]}},
		{"id": "cdolDone", "expr": {"kind": "call", "ns": "core", "name": "gte", "args": ["cdolIdxVar", "cdolLen"]}},
		{"id": "cdolRef", "expr": {"kind": "call", "ns": "list", "name": "nth", "args": ["cdolRefsVar", "cdolIdxVar"]}},
		{"id": "cdolType", "expr": {"kind": "call", "ns": "core", "name": "typeof", "args": ["cdolRef"]}},
		{"id": "cdolIsString", "expr": {"kind": "call", "ns": "core", "name": "eq", "args": ["cdolType", {"kind": "lit", "type": {"kind": "string"}, "value": "string"}]}},
		{"id": "cdolCollectDep", "expr": {"kind": "call", "ns": "bound", "name": "collect-deps", "args": ["cdolRef", "cdolNodeMapVar", "cdolVisitedVar", "cdolBoundNodesVar"]}},
		{"id": "cdolNewVisited", "expr": {"kind": "call", "ns": "map", "name": "get", "args": ["cdolCollectDep", "visitedKey"]}},
		{"id": "cdolNewBoundNodes", "expr": {"kind": "call", "ns": "map", "name": "get", "args": ["cdolCollectDep", "boundNodesKey"]}},
		{"id": "cdolNewState", "expr": {"kind": "if", "cond": "cdolIsString", "then": {"kind": "record", "fields": [{"key": "boundNodes", "value": "cdolNewBoundNodes"}, {"key": "visited", "value": "cdolNewVisited"}]}, "else": {"kind": "record", "fields": [{"key": "boundNodes", "value": "cdolBoundNodesVar"}, {"key": "visited", "value": "cdolVisitedVar"}]}}},
		{"id": "cdolNextIdx", "expr": {"kind": "call", "ns": "core", "name": "add", "args": ["cdolIdxVar", "one"]}},
		{"id": "cdolRecurse", "expr": {"kind": "callExpr", "args": ["cdolRefsVar", "cdolNextIdx", "cdolNodeMapVar", {"kind": "call", "ns": "map", "name": "get", "args": ["cdolNewState", "boundNodesKey"]}, {"kind": "call", "ns": "map", "name": "get", "args": ["cdolNewState", "visitedKey"]}], "fn": "cdolRecVar"}},
		{"id": "cdolBody", "expr": {"kind": "if", "cond": "cdolDone", "then": "cdolNewState", "else": "cdolRecurse"}},
		{"id": "cdolInner", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}, "params": ["cdolIdx", "cdolRefs", "cdolNodeMap", "cdolBoundNodes", "cdolVisited"], "body": "cdolBody"}},
		{"id": "cdolOuter", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}], "returns": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}}, "params": ["cdolRec"], "body": "cdolInner"}},
		{"id": "collectDepsOnListFixFn", "expr": {"kind": "fix", "type": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}, "fn": "cdolOuter"}},
		{"id": "bound:collect-deps-on-list", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}}, "params": ["refs", "nodeMap", "boundNodes", "visited"], "body": {"kind": "callExpr", "args": [{"kind": "var", "name": "refs"}, "zero", {"kind": "var", "name": "nodeMap"}, {"kind": "var", "name": "boundNodes"}, {"kind": "var", "name": "visited"}], "fn": "collectDepsOnListFixFn"}},

		{"id": "ibnNodesVar", "expr": {"kind": "var", "name": "ibnNodes"}},
		{"id": "ibnIdxVar", "expr": {"kind": "var", "name": "ibnIdx"}},
		{"id": "ibnBodiesVar", "expr": {"kind": "var", "name": "ibnBodies"}},
		{"id": "ibnAccVar", "expr": {"kind": "var", "name": "ibnAcc"}},
		{"id": "ibnRecVar", "expr": {"kind": "var", "name": "ibnRec"}},
		{"id": "ibnLen", "expr": {"kind": "call", "ns": "list", "name": "length", "args": ["ibnNodesVar"]}},
		{"id": "ibnDone", "expr": {"kind": "call", "ns": "core", "name": "gte", "args": ["ibnIdxVar", "ibnLen"]}},
		{"id": "ibnNode", "expr": {"kind": "call", "ns": "list", "name": "nth", "args": ["ibnNodesVar", "ibnIdxVar"]}},
		{"id": "ibnExpr", "expr": {"kind": "call", "ns": "map", "name": "get", "args": ["ibnNode", "exprKey"]}},
		{"id": "ibnKind", "expr": {"kind": "call", "ns": "map", "name": "get", "args": ["ibnExpr", "kindKey"]}},
		{"id": "ibnIsLambda", "expr": {"kind": "call", "ns": "core", "name": "eq", "args": ["ibnKind", "lambdaStr"]}},
		{"id": "ibnBody", "expr": {"kind": "call", "ns": "map", "name": "get", "args": ["ibnExpr", "bodyKey"]}},
		{"id": "ibnNewBodies", "expr": {"kind": "call", "ns": "list", "name": "cons", "args": ["ibnBody", "ibnBodiesVar"]}},
		{"id": "ibnNextIdx", "expr": {"kind": "call", "ns": "core", "name": "add", "args": ["ibnIdxVar", "one"]}},
		{"id": "ibnRecurse", "expr": {"kind": "callExpr", "args": ["ibnNodesVar", "ibnNextIdx", "ibnNewBodies"], "fn": "ibnRecVar"}},
		{"id": "ibnSkip", "expr": {"kind": "callExpr", "args": ["ibnNodesVar", "ibnNextIdx", "ibnBodiesVar"], "fn": "ibnRecVar"}},
		{"id": "ibnBody", "expr": {"kind": "if", "cond": "ibnIsLambda", "then": "ibnRecurse", "else": "ibnSkip"}},
		{"id": "ibnInner", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}, "params": ["ibnIdx", "ibnNodes", "ibnBodies"], "body": "ibnBody"}},
		{"id": "ibnOuter", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}], "returns": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}}, "params": ["ibnRec"], "body": "ibnInner"}},
		{"id": "collectLambdaBodiesFixFn", "expr": {"kind": "fix", "type": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}, "fn": "ibnOuter"}},

		{"id": "ibnNodesVar2", "expr": {"kind": "var", "name": "ibnNodes"}},
		{"id": "ibnBoundNodesVar", "expr": {"kind": "var", "name": "ibnBoundNodes"}},
		{"id": "ibnIdxVar2", "expr": {"kind": "var", "name": "ibnIdx"}},
		{"id": "ibnAccVar2", "expr": {"kind": "var", "name": "ibnAcc"}},
		{"id": "ibnRecVar2", "expr": {"kind": "var", "name": "ibnRec"}},
		{"id": "ibnLen2", "expr": {"kind": "call", "ns": "list", "name": "length", "args": ["ibnNodesVar2"]}},
		{"id": "ibnDone2", "expr": {"kind": "call", "ns": "core", "name": "gte", "args": ["ibnIdxVar2", "ibnLen2"]}},
		{"id": "ibnNode2", "expr": {"kind": "call", "ns": "list", "name": "nth", "args": ["ibnNodesVar2", "ibnIdxVar2"]}},
		{"id": "ibnId", "expr": {"kind": "call", "ns": "map", "name": "get", "args": ["ibnNode2", "idKey"]}},
		{"id": "ibnExpr2", "expr": {"kind": "call", "ns": "map", "name": "get", "args": ["ibnNode2", "exprKey"]}},
		{"id": "ibnKind2", "expr": {"kind": "call", "ns": "map", "name": "get", "args": ["ibnExpr2", "kindKey"]}},
		{"id": "ibnIsLambda2", "expr": {"kind": "call", "ns": "core", "name": "eq", "args": ["ibnKind2", "lambdaStr"]}},
		{"id": "ibnInSet", "expr": {"kind": "call", "ns": "set", "name": "contains", "args": ["ibnBoundNodesVar", "ibnId"]}},
		{"id": "ibnRemove", "expr": {"kind": "call", "ns": "set", "name": "remove", "args": ["ibnAccVar2", "ibnId"]}},
		{"id": "ibnNewAcc", "expr": {"kind": "if", "cond": "ibnIsLambda2", "then": "ibnRemove", "else": "ibnAccVar2"}},
		{"id": "ibnNextIdx2", "expr": {"kind": "call", "ns": "core", "name": "add", "args": ["ibnIdxVar2", "one"]}},
		{"id": "ibnRecurse2", "expr": {"kind": "callExpr", "args": ["ibnNodesVar2", "ibnNextIdx2", "ibnNewAcc"], "fn": "ibnRecVar2"}},
		{"id": "ibnBody2", "expr": {"kind": "if", "cond": "ibnDone2", "then": "ibnAccVar2", "else": "ibnRecurse2"}},
		{"id": "ibnInner2", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}, "params": ["ibnIdx", "ibnNodes", "ibnAcc"], "body": "ibnBody2"}},
		{"id": "ibnOuter2", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}], "returns": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}}, "params": ["ibnRec"], "body": "ibnInner2"}},
		{"id": "removeLambdaNodesFixFn", "expr": {"kind": "fix", "type": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}, "fn": "ibnOuter2"}},

		{"id": "ibnNodesVar3", "expr": {"kind": "var", "name": "ibnNodes"}},
		{"id": "ibnNodeMapVar", "expr": {"kind": "var", "name": "ibnNodeMap"}},
		{"id": "bound:identify-bound-nodes", "expr": {"kind": "lambda", "type": {"kind": "fn", "params": [{"kind": "int"}, {"kind": "int"}], "returns": {"kind": "int"}}, "params": ["nodes", "nodeMap"], "body": {"kind": "let", "name": "ibnLambdaBodies", "value": {"kind": "callExpr", "args": [{"kind": "var", "name": "nodes"}, "zero", "emptyList"], "fn": "collectLambdaBodiesFixFn"}, "body": {"kind": "let", "name": "ibnInitialBound", "value": {"kind": "call", "ns": "set", "name": "add", "args": ["emptySet", {"kind": "lit", "type": {"kind": "string"}, "value": "_"}]}, "body": {"kind": "let", "name": "ibnAllBound", "value": {"kind": "call", "ns": "bound", "name": "collect-deps-on-list", "args": [{"kind": "var", "name": "ibnLambdaBodies"}, {"kind": "var", "name": "nodeMap"}, "emptySet", {"kind": "var", "name": "ibnInitialBound"}]}, "body": {"kind": "callExpr", "args": [{"kind": "var", "name": "nodes"}, {"kind": "var", "name": "ibnAllBound"}, "zero", {"kind": "var", "name": "ibnAllBound"}], "fn": "removeLambdaNodesFixFn"}}}}}},

		{"id": "exports", "expr": {"kind": "record", "fields": [{"key": "bound:collect-lambda-params", "value": "bound:collect-lambda-params"}, {"key": "bound:add-params-to-set", "value": "bound:add-params-to-set"}, {"key": "bound:collect-deps", "value": "bound:collect-deps"}, {"key": "bound:collect-deps-on-list", "value": "bound:collect-deps-on-list"}, {"key": "bound:identify-bound-nodes", "value": "bound:identify-bound-nodes"}]}}
	],
	"result": "exports"
}
